# Network

## IP Address 

- 8bit x 4 (32bit) 로 구성
- IP = Network ID(ISP 가 부여) + Host ID(각 회사 네트워크 관리자가 부여)
- A~C 의 3개의 Class 가 있음.
  - `N` : Network ID, `H` : Host ID
  - A Class : `N . H . H . H`
  - B Class : `N . N . H . H`
  - C Class : `N . N . N . H `
- A class 중 특수한 Network.
  - 0 : 네트워크를 식별할 때 사용
  - 127 
    - IPv4 LoopBack IP, Localhost
    - test용으로 사용
- Host의 모든 값이 0인 경우 : Network ID를 식별
- Host의 모든 값이 1인 경우 : Broadcast IP(Broadcast Data 전송시 사용



## Private IP Address

| RFC1918 이름 |         IP 주소 범위          | 주소 개수  | [클래스](https://ko.wikipedia.org/wiki/네트워크_클래스) 내용 | 최대 [사이더](https://ko.wikipedia.org/wiki/사이더_(네트워킹)) 블록 (서브넷 마스크) | 호스트 ID 크기 |
| :----------: | :---------------------------: | :--------: | :----------------------------------------------------------: | :----------------------------------------------------------: | :------------: |
| 24비트 블록  |   10.0.0.0 – 10.255.255.255   | 16,777,216 |                        클래스 A 하나                         |                    10.0.0.0/8 (255.0.0.0)                    |    24 비트     |
| 20비트 블록  |  172.16.0.0 – 172.31.255.255  | 1,048,576  |                     16개의 인접 클래스 B                     |                 172.16.0.0/12 (255.240.0.0)                  |    20 비트     |
| 16비트 블록  | 192.168.0.0 – 192.168.255.255 |   65,536   |                    256개의 인접 클래스 C                     |                 192.168.0.0/16 (255.255.0.0)                 |    16 비트     |



## CIDR(Classless Inter-Domain Routing) 표기법

- 클래스 없는 도메인 간 라우팅 기법

- 기존 Class 방식에 비해 유연성을 더해줌

- 비트단위 , 접두어 기반

  

## Subnetwork

ISP에서 부여 받은 네트워크 ID로 더 작은 Subnetwork 로 분할하여 사용

|                 |               이진 형태               | 닷 데시멀 노테이션 |
| :-------------: | :-----------------------------------: | ------------------ |
|     IP 주소     | `11000000.10101000.00000101.10000010` | `192.168.5.130`    |
|  서브넷 마스크  | `11111111.11111111.11111111.00000000` | `255.255.255.0`    |
| 네트워크 접두사 | `11000000.10101000.00000101.00000000` | `192.168.5.0`      |
|   호스트 부분   | `00000000.00000000.00000000.10000010` | `0.0.0.130`        |
|  Broadcast IP   | `11000000.10101000.00000101.11111111` | 192.168.5.255      |

|      네트워크      |              네트워크 (이진)              | 브로드캐스트 주소 |
| :----------------: | :---------------------------------------: | :---------------: |
|  `192.168.5.0/26`  | `11000000.10101000.00000101.**00**000000` |  `192.168.5.63`   |
| `192.168.5.64/26`  | `11000000.10101000.00000101.**01**000000` |  `192.168.5.127`  |
| `192.168.5.128/26` | `11000000.10101000.00000101.**10**000000` |  `192.168.5.191`  |
| `192.168.5.192/26` | `11000000.10101000.00000101.**11**000000` |  `192.168.5.255`  |

- [출처 - 위키피디아](https://ko.wikipedia.org/wiki/부분망)
- Azure 에서는 각 서브넷의 1~3번은 Azure에서 예약한 IP (4번부터 사용)



## VLSM

 Host 수에 따라 Subnetting, Subnet Mask값이 각각 다르게 부여됨. 

   - 반드시 많은 수를 먼저 Subnetting (주의)

192.168.10.0/24 ( ISP )를 아래와 같이 VLSM으로 Subnetting.
(인사부 : 100, 관리부 : 60, 영업부 10 , 제조부 :30)

|        |        IP         |              대역               | HOST개수  |
| :----: | :---------------: | :-----------------------------: | :-------: |
| 인사부 |  192.168.10.0/25  |  192.168.10.1 ~ 192.168.10.126  | 2^7-2=126 |
| 관리부 | 192.168.10.128/26 | 192.168.10.129 ~ 192.168.10.190 | 2^6-2=62  |
| 제조부 | 192.168.10.192/27 | 192.168.10.193 ~ 192.168.10.222 | 2^5-2=30  |
| 영업부 | 192.168.10.224/28 | 192.168.10.225 ~ 192.168.10.238 | 2^4-2=14  |

